:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/../_plugins/Terrain3D/doc/doc_classes/Terrain3DData.xml.

.. _class_Terrain3DData:

Terrain3DData
=============

**Inherits:** ``Object``

.. rst-class:: classref-introduction-group

Description
-----------

Terrain3D divides all data into regions which fit on a grid in the world. These coordinates are called region locations. The map data are stored in instances of :ref:`Terrain3DRegion<class_Terrain3DRegion>`, which are saved to individual files. This class manages region loading, unloading, data retreival and manipulation.

.. rst-class:: classref-reftable-group

Properties
----------

.. table::
   :widths: auto

   +-------------------------------------------+------------------------------------------------------------------------+--------+
   | :ref:`Array<class_Array>`\[``Image``\]    | :ref:`color_maps<class_Terrain3DData_property_color_maps>`             | ``[]`` |
   +-------------------------------------------+------------------------------------------------------------------------+--------+
   | :ref:`Array<class_Array>`\[``Image``\]    | :ref:`control_maps<class_Terrain3DData_property_control_maps>`         | ``[]`` |
   +-------------------------------------------+------------------------------------------------------------------------+--------+
   | :ref:`Array<class_Array>`\[``Image``\]    | :ref:`height_maps<class_Terrain3DData_property_height_maps>`           | ``[]`` |
   +-------------------------------------------+------------------------------------------------------------------------+--------+
   | :ref:`Array<class_Array>`\[``Vector2i``\] | :ref:`region_locations<class_Terrain3DData_property_region_locations>` | ``[]`` |
   +-------------------------------------------+------------------------------------------------------------------------+--------+

.. rst-class:: classref-reftable-group

Methods
-------

.. table::
   :widths: auto

   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Error                                                                      | :ref:`add_region<class_Terrain3DData_method_add_region>`\ (\ region\: :ref:`Terrain3DRegion<class_Terrain3DRegion>`, update\: ``bool`` = true\ )                                                                           |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Terrain3DRegion<class_Terrain3DRegion>`                              | :ref:`add_region_blank<class_Terrain3DData_method_add_region_blank>`\ (\ region_location\: ``Vector2i``, update\: ``bool`` = true\ )                                                                                       |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Terrain3DRegion<class_Terrain3DRegion>`                              | :ref:`add_region_blankp<class_Terrain3DData_method_add_region_blankp>`\ (\ global_position\: ``Vector3``, update\: ``bool`` = true\ )                                                                                      |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`calc_height_range<class_Terrain3DData_method_calc_height_range>`\ (\ recursive\: ``bool`` = false\ )                                                                                                                 |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`change_region_size<class_Terrain3DData_method_change_region_size>`\ (\ region_size\: ``int``\ )                                                                                                                      |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`do_for_regions<class_Terrain3DData_method_do_for_regions>`\ (\ area\: ``Rect2i``, callback\: ``Callable``\ )                                                                                                         |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Error                                                                      | :ref:`export_image<class_Terrain3DData_method_export_image>`\ (\ file_name\: ``String``, map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`\ ) |const|                                                                |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`force_update_maps<class_Terrain3DData_method_force_update_maps>`\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>` = 3, generate_mipmaps\: ``bool`` = false\ )                                             |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Color``                                                                  | :ref:`get_color<class_Terrain3DData_method_get_color>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                        |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``RID``                                                                    | :ref:`get_color_maps_rid<class_Terrain3DData_method_get_color_maps_rid>`\ (\ ) |const|                                                                                                                                     |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_control<class_Terrain3DData_method_get_control>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                    |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``float``                                                                  | :ref:`get_control_angle<class_Terrain3DData_method_get_control_angle>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                        |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`get_control_auto<class_Terrain3DData_method_get_control_auto>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                          |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_control_base_id<class_Terrain3DData_method_get_control_base_id>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                    |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``float``                                                                  | :ref:`get_control_blend<class_Terrain3DData_method_get_control_blend>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                        |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`get_control_hole<class_Terrain3DData_method_get_control_hole>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                          |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``RID``                                                                    | :ref:`get_control_maps_rid<class_Terrain3DData_method_get_control_maps_rid>`\ (\ ) |const|                                                                                                                                 |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`get_control_navigation<class_Terrain3DData_method_get_control_navigation>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                              |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_control_overlay_id<class_Terrain3DData_method_get_control_overlay_id>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                              |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``float``                                                                  | :ref:`get_control_scale<class_Terrain3DData_method_get_control_scale>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                        |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``float``                                                                  | :ref:`get_height<class_Terrain3DData_method_get_height>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                      |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``RID``                                                                    | :ref:`get_height_maps_rid<class_Terrain3DData_method_get_height_maps_rid>`\ (\ ) |const|                                                                                                                                   |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Vector2``                                                                | :ref:`get_height_range<class_Terrain3DData_method_get_height_range>`\ (\ ) |const|                                                                                                                                         |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[``Image``\]                                     | :ref:`get_maps<class_Terrain3DData_method_get_maps>`\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`\ ) |const|                                                                                                |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Vector3``                                                                | :ref:`get_mesh_vertex<class_Terrain3DData_method_get_mesh_vertex>`\ (\ lod\: ``int``, filter\: :ref:`HeightFilter<enum_Terrain3DData_HeightFilter>`, global_position\: ``Vector3``\ ) |const|                              |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Vector3``                                                                | :ref:`get_normal<class_Terrain3DData_method_get_normal>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                      |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Color``                                                                  | :ref:`get_pixel<class_Terrain3DData_method_get_pixel>`\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`, global_position\: ``Vector3``\ ) |const|                                                               |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Terrain3DRegion<class_Terrain3DRegion>`                              | :ref:`get_region<class_Terrain3DData_method_get_region>`\ (\ region_location\: ``Vector2i``\ ) |const|                                                                                                                     |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_region_count<class_Terrain3DData_method_get_region_count>`\ (\ ) |const|                                                                                                                                         |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_region_id<class_Terrain3DData_method_get_region_id>`\ (\ region_location\: ``Vector2i``\ ) |const|                                                                                                               |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_region_idp<class_Terrain3DData_method_get_region_idp>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                              |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Vector2i``                                                               | :ref:`get_region_location<class_Terrain3DData_method_get_region_location>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                    |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``PackedInt32Array``                                                       | :ref:`get_region_map<class_Terrain3DData_method_get_region_map>`\ (\ ) |const|                                                                                                                                             |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``int``                                                                    | :ref:`get_region_map_index<class_Terrain3DData_method_get_region_map_index>`\ (\ region_location\: ``Vector2i``\ ) |static|                                                                                                |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Terrain3DRegion<class_Terrain3DRegion>`                              | :ref:`get_regionp<class_Terrain3DData_method_get_regionp>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                    |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Terrain3DRegion<class_Terrain3DRegion>`\] | :ref:`get_regions_active<class_Terrain3DData_method_get_regions_active>`\ (\ copy\: ``bool`` = false, deep\: ``bool`` = false\ ) |const|                                                                                   |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Dictionary``                                                             | :ref:`get_regions_all<class_Terrain3DData_method_get_regions_all>`\ (\ ) |const|                                                                                                                                           |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``float``                                                                  | :ref:`get_roughness<class_Terrain3DData_method_get_roughness>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Vector3``                                                                | :ref:`get_texture_id<class_Terrain3DData_method_get_texture_id>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                              |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`has_region<class_Terrain3DData_method_has_region>`\ (\ region_location\: ``Vector2i``\ ) |const|                                                                                                                     |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`has_regionp<class_Terrain3DData_method_has_regionp>`\ (\ global_position\: ``Vector3``\ ) |const|                                                                                                                    |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`import_images<class_Terrain3DData_method_import_images>`\ (\ images\: :ref:`Array<class_Array>`\[``Image``\], global_position\: ``Vector3`` = Vector3(0, 0, 0), offset\: ``float`` = 0.0, scale\: ``float`` = 1.0\ ) |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`is_in_slope<class_Terrain3DData_method_is_in_slope>`\ (\ global_position\: ``Vector3``, slope_range\: ``Vector2``, invert\: ``bool`` = false\ ) |const|                                                              |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`is_region_deleted<class_Terrain3DData_method_is_region_deleted>`\ (\ region_location\: ``Vector2i``\ ) |const|                                                                                                       |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``bool``                                                                   | :ref:`is_region_modified<class_Terrain3DData_method_is_region_modified>`\ (\ region_location\: ``Vector2i``\ ) |const|                                                                                                     |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ``Image``                                                                  | :ref:`layered_to_image<class_Terrain3DData_method_layered_to_image>`\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`\ ) |const|                                                                                |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`load_directory<class_Terrain3DData_method_load_directory>`\ (\ directory\: ``String``\ )                                                                                                                             |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`load_region<class_Terrain3DData_method_load_region>`\ (\ directory\: ``Vector2i``, region_location\: ``String``, update\: ``bool`` = true\ )                                                                         |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`remove_region<class_Terrain3DData_method_remove_region>`\ (\ region\: :ref:`Terrain3DRegion<class_Terrain3DRegion>`, update\: ``bool`` = true\ )                                                                     |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`remove_regionl<class_Terrain3DData_method_remove_regionl>`\ (\ region_location\: ``Vector2i``, update\: ``bool`` = true\ )                                                                                           |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`remove_regionp<class_Terrain3DData_method_remove_regionp>`\ (\ global_position\: ``Vector3``, update\: ``bool`` = true\ )                                                                                            |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`save_directory<class_Terrain3DData_method_save_directory>`\ (\ directory\: ``String``\ )                                                                                                                             |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`save_region<class_Terrain3DData_method_save_region>`\ (\ directory\: ``Vector2i``, region_location\: ``String``, 16_bit\: ``bool`` = false\ )                                                                        |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_color<class_Terrain3DData_method_set_color>`\ (\ global_position\: ``Vector3``, color\: ``Color``\ )                                                                                                             |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control<class_Terrain3DData_method_set_control>`\ (\ global_position\: ``Vector3``, control\: ``int``\ )                                                                                                         |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_angle<class_Terrain3DData_method_set_control_angle>`\ (\ global_position\: ``Vector3``, degrees\: ``float``\ )                                                                                           |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_auto<class_Terrain3DData_method_set_control_auto>`\ (\ global_position\: ``Vector3``, enable\: ``bool``\ )                                                                                               |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_base_id<class_Terrain3DData_method_set_control_base_id>`\ (\ global_position\: ``Vector3``, texture_id\: ``int``\ )                                                                                      |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_blend<class_Terrain3DData_method_set_control_blend>`\ (\ global_position\: ``Vector3``, blend_value\: ``float``\ )                                                                                       |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_hole<class_Terrain3DData_method_set_control_hole>`\ (\ global_position\: ``Vector3``, enable\: ``bool``\ )                                                                                               |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_navigation<class_Terrain3DData_method_set_control_navigation>`\ (\ global_position\: ``Vector3``, enable\: ``bool``\ )                                                                                   |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_overlay_id<class_Terrain3DData_method_set_control_overlay_id>`\ (\ global_position\: ``Vector3``, texture_id\: ``int``\ )                                                                                |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_control_scale<class_Terrain3DData_method_set_control_scale>`\ (\ global_position\: ``Vector3``, percentage_modifier\: ``float``\ )                                                                               |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_height<class_Terrain3DData_method_set_height>`\ (\ global_position\: ``Vector3``, height\: ``float``\ )                                                                                                          |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_pixel<class_Terrain3DData_method_set_pixel>`\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`, global_position\: ``Vector3``, pixel\: ``Color``\ )                                                    |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_region_deleted<class_Terrain3DData_method_set_region_deleted>`\ (\ region_location\: ``Vector2i``, deleted\: ``bool``\ )                                                                                         |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_region_modified<class_Terrain3DData_method_set_region_modified>`\ (\ region_location\: ``Vector2i``, modified\: ``bool``\ )                                                                                      |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                                     | :ref:`set_roughness<class_Terrain3DData_method_set_roughness>`\ (\ global_position\: ``Vector3``, roughness\: ``float``\ )                                                                                                 |
   +----------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Signals
-------

.. _class_Terrain3DData_signal_color_maps_changed:

.. rst-class:: classref-signal

**color_maps_changed**\ (\ ) :ref:`🔗<class_Terrain3DData_signal_color_maps_changed>`

Emitted when the color maps array is regenerated.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_signal_control_maps_changed:

.. rst-class:: classref-signal

**control_maps_changed**\ (\ ) :ref:`🔗<class_Terrain3DData_signal_control_maps_changed>`

Emitted when the control maps array is regenerated.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_signal_height_maps_changed:

.. rst-class:: classref-signal

**height_maps_changed**\ (\ ) :ref:`🔗<class_Terrain3DData_signal_height_maps_changed>`

Emitted when the height maps array is regenerated.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_signal_maps_changed:

.. rst-class:: classref-signal

**maps_changed**\ (\ ) :ref:`🔗<class_Terrain3DData_signal_maps_changed>`

Emitted when the region map or any map array has been regenerated.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_signal_maps_edited:

.. rst-class:: classref-signal

**maps_edited**\ (\ edited_area\: ``AABB``\ ) :ref:`🔗<class_Terrain3DData_signal_maps_edited>`

This signal is emitted whenever the editor (:ref:`Terrain3DEditor<class_Terrain3DEditor>`) is used to:

- add or remove a region

- alter a region map with a brush tool

- undo or redo any of the above operations

The parameter contains the axis-aligned bounding box of the area edited.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_signal_region_map_changed:

.. rst-class:: classref-signal

**region_map_changed**\ (\ ) :ref:`🔗<class_Terrain3DData_signal_region_map_changed>`

Emitted when the region map is regenerated.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Enumerations
------------

.. _enum_Terrain3DData_HeightFilter:

.. rst-class:: classref-enumeration

enum **HeightFilter**: :ref:`🔗<enum_Terrain3DData_HeightFilter>`

.. _class_Terrain3DData_constant_HEIGHT_FILTER_NEAREST:

.. rst-class:: classref-enumeration-constant

:ref:`HeightFilter<enum_Terrain3DData_HeightFilter>` **HEIGHT_FILTER_NEAREST** = ``0``

Samples the height map at the exact coordinates given.

.. _class_Terrain3DData_constant_HEIGHT_FILTER_MINIMUM:

.. rst-class:: classref-enumeration-constant

:ref:`HeightFilter<enum_Terrain3DData_HeightFilter>` **HEIGHT_FILTER_MINIMUM** = ``1``

Samples (1 << lod) \* 2 heights around the given coordinates and returns the lowest.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Constants
---------

.. _class_Terrain3DData_constant_REGION_MAP_SIZE:

.. rst-class:: classref-constant

**REGION_MAP_SIZE** = ``32`` :ref:`🔗<class_Terrain3DData_constant_REGION_MAP_SIZE>`

Hard coded number of regions on a side. The total number of regions is this squared.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Property Descriptions
---------------------

.. _class_Terrain3DData_property_color_maps:

.. rst-class:: classref-property

:ref:`Array<class_Array>`\[``Image``\] **color_maps** = ``[]`` :ref:`🔗<class_Terrain3DData_property_color_maps>`

.. rst-class:: classref-property-setget

- :ref:`Array<class_Array>`\[``Image``\] **get_color_maps**\ (\ )

An Array\ ``Image`` containing references to all of the color maps in all regions. See :ref:`Terrain3DRegion.color_map<class_Terrain3DRegion_property_color_map>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_property_control_maps:

.. rst-class:: classref-property

:ref:`Array<class_Array>`\[``Image``\] **control_maps** = ``[]`` :ref:`🔗<class_Terrain3DData_property_control_maps>`

.. rst-class:: classref-property-setget

- :ref:`Array<class_Array>`\[``Image``\] **get_control_maps**\ (\ )

An Array\ ``Image`` containing references to all of the control maps in all regions. See :ref:`Terrain3DRegion.control_map<class_Terrain3DRegion_property_control_map>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_property_height_maps:

.. rst-class:: classref-property

:ref:`Array<class_Array>`\[``Image``\] **height_maps** = ``[]`` :ref:`🔗<class_Terrain3DData_property_height_maps>`

.. rst-class:: classref-property-setget

- :ref:`Array<class_Array>`\[``Image``\] **get_height_maps**\ (\ )

An Array\ ``Image`` containing references to all of the height maps in all regions. See :ref:`Terrain3DRegion.height_map<class_Terrain3DRegion_property_height_map>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_property_region_locations:

.. rst-class:: classref-property

:ref:`Array<class_Array>`\[``Vector2i``\] **region_locations** = ``[]`` :ref:`🔗<class_Terrain3DData_property_region_locations>`

.. rst-class:: classref-property-setget

- |void| **set_region_locations**\ (\ value\: :ref:`Array<class_Array>`\[``Vector2i``\]\ )
- :ref:`Array<class_Array>`\[``Vector2i``\] **get_region_locations**\ (\ )

The array of all active region locations; those not marked for deletion.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Method Descriptions
-------------------

.. _class_Terrain3DData_method_add_region:

.. rst-class:: classref-method

Error **add_region**\ (\ region\: :ref:`Terrain3DRegion<class_Terrain3DRegion>`, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_add_region>`

Adds a region for sculpting and painting.

The region should already be configured with the desired location and maps before sending to this function.

Upon saving, this region will be written to a data file stored in :ref:`Terrain3D.data_directory<class_Terrain3D_property_data_directory>`.

- update - regenerates the texture arrays if true. Set to false if bulk adding many regions, then true on the last one or use :ref:`force_update_maps<class_Terrain3DData_method_force_update_maps>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_add_region_blank:

.. rst-class:: classref-method

:ref:`Terrain3DRegion<class_Terrain3DRegion>` **add_region_blank**\ (\ region_location\: ``Vector2i``, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_add_region_blank>`

Creates and adds a blank region at the specified location. See :ref:`add_region<class_Terrain3DData_method_add_region>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_add_region_blankp:

.. rst-class:: classref-method

:ref:`Terrain3DRegion<class_Terrain3DRegion>` **add_region_blankp**\ (\ global_position\: ``Vector3``, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_add_region_blankp>`

Creates and adds a blank region at a region location encompassing the specified global position. See :ref:`add_region<class_Terrain3DData_method_add_region>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_calc_height_range:

.. rst-class:: classref-method

|void| **calc_height_range**\ (\ recursive\: ``bool`` = false\ ) :ref:`🔗<class_Terrain3DData_method_calc_height_range>`

Recalculates the master height range for the whole terrain by summing the height ranges of all active regions.

Recursive mode does the same, but has each region recalculate heights from each heightmap pixel. See :ref:`Terrain3DRegion.calc_height_range<class_Terrain3DRegion_method_calc_height_range>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_change_region_size:

.. rst-class:: classref-method

|void| **change_region_size**\ (\ region_size\: ``int``\ ) :ref:`🔗<class_Terrain3DData_method_change_region_size>`

Reslices terrain data to fit the new region size. This is a destructive process for which there is no undo. However Godot does make an undo entry, which will reslice in reverse. Files on disk are not added or removed until the scene is saved.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_do_for_regions:

.. rst-class:: classref-method

|void| **do_for_regions**\ (\ area\: ``Rect2i``, callback\: ``Callable``\ ) :ref:`🔗<class_Terrain3DData_method_do_for_regions>`

Calls the callback function for every region within the given area. If using vertex_spacing, area values should be descaled.

The callable receives: source Terrain3DRegion, source Rect2i, dest Rect2i, (bindings)

You may wish to append .bind() to the callback to pass along variables. For instance internally this function is called when changing region size. We bind the destination Terrain3DRegion, then use do_for_regions to copy segments of source regions to segments of destination regions. See the code for change_region_size() for more.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_export_image:

.. rst-class:: classref-method

Error **export_image**\ (\ file_name\: ``String``, map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`\ ) |const| :ref:`🔗<class_Terrain3DData_method_export_image>`

Exports the specified map type as one of r16/raw, exr, jpg, png, webp, res, tres. 

R16 or exr are recommended for roundtrip external editing.

R16 can be edited by Krita, however you must know the dimensions and min/max before reimporting. This information is printed to the console.

Res/tres stores in Godot's native data format.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_force_update_maps:

.. rst-class:: classref-method

|void| **force_update_maps**\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>` = 3, generate_mipmaps\: ``bool`` = false\ ) :ref:`🔗<class_Terrain3DData_method_force_update_maps>`

Regenerates the region map and TextureArrays that house the requested map types. Using the default :ref:`MapType<enum_Terrain3DRegion_MapType>` TYPE_MAX(3) will regenerate all map types.

This function needs to be called after editing any of the maps.

- generate_mipmaps - Generates mipmaps for the color maps. This can also be done on individual regions with ``region.get_color_map().generate_mipmaps()``.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_color:

.. rst-class:: classref-method

``Color`` **get_color**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_color>`

Returns the associated pixel on the color map at the requested position.

Returns ``Color(NAN, NAN, NAN, NAN)`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_color_maps_rid:

.. rst-class:: classref-method

``RID`` **get_color_maps_rid**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_color_maps_rid>`

Returns the resource ID of the generated height map Texture Array sent to the shader. You can use this RID with the RenderingServer to set it as a shader parameter for a sampler2DArray uniform in your own shader. See `Tips <https://terrain3d.readthedocs.io/en/stable/docs/tips.html#using-the-generated-height-map-in-other-shaders>`__ for an example.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control:

.. rst-class:: classref-method

``int`` **get_control**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control>`

Returns the associated pixel on the control map at the requested position.

Returns ``4,294,967,295`` aka ``UINT32_MAX`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_angle:

.. rst-class:: classref-method

``float`` **get_control_angle**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_angle>`

Returns the angle, aka uv rotation, on the control map at the requested position. Values are fixed to 22.5 degree intervals, for a maximum of 16 angles. 360 / 16 = 22.5.

Returns ``NAN`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_auto:

.. rst-class:: classref-method

``bool`` **get_control_auto**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_auto>`

Returns whether the autoshader is enabled on the control map at the requested position.

Returns ``false`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_base_id:

.. rst-class:: classref-method

``int`` **get_control_base_id**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_base_id>`

Returns the base texture ID on the control map at the requested position. Values are 0 - 31, which matches the ID of the texture asset in the asset dock.

Returns ``4,294,967,295`` aka ``UINT32_MAX`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_blend:

.. rst-class:: classref-method

``float`` **get_control_blend**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_blend>`

Returns the blend value between the base texture ID and the overlay texture ID. The value is clamped between 0.0 - 1.0 where 0.0 shows only the base texture, and 1.0 shows only the overlay texture.

Returns ``NAN`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_hole:

.. rst-class:: classref-method

``bool`` **get_control_hole**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_hole>`

Returns whether there is a hole on the control map at the requested position.

Returns ``false`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_maps_rid:

.. rst-class:: classref-method

``RID`` **get_control_maps_rid**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_maps_rid>`

Returns the resource ID of the generated control map Texture Array sent to the shader. You can use this RID with the RenderingServer to set it as a shader parameter for a sampler2DArray uniform in your own shader. See `Tips <https://terrain3d.readthedocs.io/en/stable/docs/tips.html#using-the-generated-height-map-in-other-shaders>`__ for an example.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_navigation:

.. rst-class:: classref-method

``bool`` **get_control_navigation**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_navigation>`

Returns whether navigation is enabled on the control map at the requested position.

Returns ``false`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_overlay_id:

.. rst-class:: classref-method

``int`` **get_control_overlay_id**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_overlay_id>`

Returns the overlay texture ID on the control map at the requested position. Values are 0 - 31, which matches the ID of the texture asset in the asset dock.

Returns ``4,294,967,295`` aka ``UINT32_MAX`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_control_scale:

.. rst-class:: classref-method

``float`` **get_control_scale**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_control_scale>`

Returns the uv scale on the control map at the requested position. The value is rounded to the nearest 20% difference from 100%, ranging between -60% to +80%. Eg. +20% or -40%.

Returns ``NAN`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_height:

.. rst-class:: classref-method

``float`` **get_height**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_height>`

Returns the height at the requested position. If the position is close to a vertex, the pixel height on the heightmap is returned. Otherwise the value is interpolated from the 4 vertices surrounding the position.

Returns ``NAN`` if the requested position is a hole or outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_height_maps_rid:

.. rst-class:: classref-method

``RID`` **get_height_maps_rid**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_height_maps_rid>`

Returns the resource ID of the generated height map texture array sent to the shader. You can use this RID with the RenderingServer to set it as a shader parameter for a sampler2DArray uniform in your own shader. See `Tips <https://terrain3d.readthedocs.io/en/stable/docs/tips.html#using-the-generated-height-map-in-other-shaders>`__ for an example.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_height_range:

.. rst-class:: classref-method

``Vector2`` **get_height_range**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_height_range>`

Returns the highest and lowest heights for the sculpted terrain used to set the world AABB. See :ref:`calc_height_range<class_Terrain3DData_method_calc_height_range>`.

Any :ref:`Terrain3DMaterial.world_background<class_Terrain3DMaterial_property_world_background>` used that extends the mesh outside of this range will not change this variable. You need to set :ref:`Terrain3D.cull_margin<class_Terrain3D_property_cull_margin>` or the renderer will clip meshes.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_maps:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[``Image``\] **get_maps**\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_maps>`

Returns an Array of Images from all regions of the specified map type.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_mesh_vertex:

.. rst-class:: classref-method

``Vector3`` **get_mesh_vertex**\ (\ lod\: ``int``, filter\: :ref:`HeightFilter<enum_Terrain3DData_HeightFilter>`, global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_mesh_vertex>`

Returns the position of a terrain vertex at a certain LOD. If the position is outside of defined regions or there is a hole, it returns ``NAN`` in the vector's Y coordinate.

\ ``lod`` - Determines how many heights around the given global position will be sampled. Range 0 - 8.

\ ``filter`` - Specifies how samples are filtered. See :ref:`HeightFilter<enum_Terrain3DData_HeightFilter>`.

\ ``global_position`` - X and Z coordinates of the vertex. Heights will be sampled around these coordinates.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_normal:

.. rst-class:: classref-method

``Vector3`` **get_normal**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_normal>`

Returns the terrain normal at the specified position. This function uses :ref:`get_height<class_Terrain3DData_method_get_height>`.

Returns ``Vector3(NAN, NAN, NAN)`` if the requested position is a hole or outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_pixel:

.. rst-class:: classref-method

``Color`` **get_pixel**\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`, global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_pixel>`

Returns the pixel for the map type associated with the specified position.

Returns ``Color(NAN, NAN, NAN, NAN)`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region:

.. rst-class:: classref-method

:ref:`Terrain3DRegion<class_Terrain3DRegion>` **get_region**\ (\ region_location\: ``Vector2i``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_region>`

Return the :ref:`Terrain3DRegion<class_Terrain3DRegion>` at the specified location. This will return inactive regions marked for deletion. Check with :ref:`Terrain3DRegion.deleted<class_Terrain3DRegion_property_deleted>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region_count:

.. rst-class:: classref-method

``int`` **get_region_count**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_region_count>`

Returns the number of active regions; those not marked for deletion.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region_id:

.. rst-class:: classref-method

``int`` **get_region_id**\ (\ region_location\: ``Vector2i``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_region_id>`

Returns -1 if no region or out of bounds at the given location, otherwise returns the current region id.

The region_id is the index into the TextureArrays sent to the shader, and can change at any time. Gamedevs should generally index regions by location. However, this function is useful to determine if the location is a valid region.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region_idp:

.. rst-class:: classref-method

``int`` **get_region_idp**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_region_idp>`

Returns the region id at a global position. See :ref:`get_region_id<class_Terrain3DData_method_get_region_id>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region_location:

.. rst-class:: classref-method

``Vector2i`` **get_region_location**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_region_location>`

Returns the calculated region location for the given global position. This is just a calculation and does no bounds checking or verification that a region exists. See :ref:`get_region_map_index<class_Terrain3DData_method_get_region_map_index>` for bounds checking, or :ref:`has_region<class_Terrain3DData_method_has_region>` for checking existance.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region_map:

.. rst-class:: classref-method

``PackedInt32Array`` **get_region_map**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_region_map>`

Returns a fully populated 32 x 32 array. The array location contains the region id + 1, or 0, which means no region.

See :ref:`get_region_map_index<class_Terrain3DData_method_get_region_map_index>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_region_map_index:

.. rst-class:: classref-method

``int`` **get_region_map_index**\ (\ region_location\: ``Vector2i``\ ) |static| :ref:`🔗<class_Terrain3DData_method_get_region_map_index>`

Given a region location, returns the index into the region map array. See :ref:`get_region_map<class_Terrain3DData_method_get_region_map>`.

You can use this function to quickly determine if a location is within the greater world bounds (-16,-16) to (15, 15). It returns -1 if not.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_regionp:

.. rst-class:: classref-method

:ref:`Terrain3DRegion<class_Terrain3DRegion>` **get_regionp**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_regionp>`

Returns the region at the specified global position. This will return inactive regions marked for deletion. Check with :ref:`Terrain3DRegion.deleted<class_Terrain3DRegion_property_deleted>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_regions_active:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Terrain3DRegion<class_Terrain3DRegion>`\] **get_regions_active**\ (\ copy\: ``bool`` = false, deep\: ``bool`` = false\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_regions_active>`

Returns an array of active regions not marked for deletion. Each region knows its own location. See :ref:`Terrain3DRegion.location<class_Terrain3DRegion_property_location>`.

- copy - returns a shallow copy of the regions; region map references are copied.

- deep - returns a deep copy of the regions; region maps are full duplicates.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_regions_all:

.. rst-class:: classref-method

``Dictionary`` **get_regions_all**\ (\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_regions_all>`

Returns all regions in a dictionary indexed by region location. Some regions may be marked for deletion.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_roughness:

.. rst-class:: classref-method

``float`` **get_roughness**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_roughness>`

Returns the roughness modifier (wetness) on the color map alpha channel associated with the specified position.

Returns ``Color(NAN, NAN, NAN, NAN)`` if the position is outside of defined regions.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_get_texture_id:

.. rst-class:: classref-method

``Vector3`` **get_texture_id**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_get_texture_id>`

Returns ``Vector3(base texture id, overlay id, blend value)``.

Returns ``Vector3(NAN, NAN, NAN)`` if the position is a hole or outside of defined regions.

This is often used for playing sounds on footsteps. It's up to the gamedev to determine which is visually apparent based on shader settings.

Due to blending, it won't be pixel perfect. Try having your player controller print this value while walking around to see how the blending values look. Perhaps you'll find that the overlay texture is visible starting at a blend value of .3 to .5, otherwise the base is visible. You can also observe the control blend debug view with :ref:`Terrain3DMaterial.show_control_blend<class_Terrain3DMaterial_property_show_control_blend>`.

Observing how this is done in The Witcher 3, there are only about 6 sounds used (snow, foliage, dirt, gravel, rock, wood), and except for wood, they are not pixel perfect. Wood is easy to do by detecting if the player is walking on wood meshes. The other 5 sounds are played when the player is in an area where the textures are blending. So it might play rock while over a dirt area. This shows pixel perfect accuracy is not important. It will still provide a seamless audio visual experience.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_has_region:

.. rst-class:: classref-method

``bool`` **has_region**\ (\ region_location\: ``Vector2i``\ ) |const| :ref:`🔗<class_Terrain3DData_method_has_region>`

Returns true if the specified region location has an active region.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_has_regionp:

.. rst-class:: classref-method

``bool`` **has_regionp**\ (\ global_position\: ``Vector3``\ ) |const| :ref:`🔗<class_Terrain3DData_method_has_regionp>`

Returns true if the specified global position has an active region.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_import_images:

.. rst-class:: classref-method

|void| **import_images**\ (\ images\: :ref:`Array<class_Array>`\[``Image``\], global_position\: ``Vector3`` = Vector3(0, 0, 0), offset\: ``float`` = 0.0, scale\: ``float`` = 1.0\ ) :ref:`🔗<class_Terrain3DData_method_import_images>`

Imports an Image set (Height, Control, Color) into this resource. It does NOT normalize values to 0-1. You must do that using get_min_max() and adjusting scale and offset.

\ ``images`` - MapType.TYPE_MAX sized array of Images for Height, Control, Color. Images can be blank or null.

\ ``global_position`` - X,0,Z position on the region map. Valid range is :ref:`Terrain3D.vertex_spacing<class_Terrain3D_property_vertex_spacing>` \* :ref:`Terrain3D.region_size<class_Terrain3D_property_region_size>` \* (+/-16, +/-16).

\ ``offset`` - Add this factor to all height values, can be negative.

\ ``scale`` - Scale all height values by this factor (applied after offset).

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_is_in_slope:

.. rst-class:: classref-method

``bool`` **is_in_slope**\ (\ global_position\: ``Vector3``, slope_range\: ``Vector2``, invert\: ``bool`` = false\ ) |const| :ref:`🔗<class_Terrain3DData_method_is_in_slope>`

Returns true if the slope of the terrain at the given position is within the slope range. If invert is true, it returns true if the position is outside the given range.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_is_region_deleted:

.. rst-class:: classref-method

``bool`` **is_region_deleted**\ (\ region_location\: ``Vector2i``\ ) |const| :ref:`🔗<class_Terrain3DData_method_is_region_deleted>`

Returns true if the region at the  location exists and is marked as deleted. Syntactic sugar for :ref:`Terrain3DRegion.deleted<class_Terrain3DRegion_property_deleted>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_is_region_modified:

.. rst-class:: classref-method

``bool`` **is_region_modified**\ (\ region_location\: ``Vector2i``\ ) |const| :ref:`🔗<class_Terrain3DData_method_is_region_modified>`

Returns true if the region at the location exists and is marked as modified. Syntactic sugar for :ref:`Terrain3DRegion.modified<class_Terrain3DRegion_property_modified>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_layered_to_image:

.. rst-class:: classref-method

``Image`` **layered_to_image**\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`\ ) |const| :ref:`🔗<class_Terrain3DData_method_layered_to_image>`

Returns an Image of the given map type that contains all regions in one large image. If the world has multiple islands, this function will return an image large enough to encompass all used regions, with black areas in between the islands.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_load_directory:

.. rst-class:: classref-method

|void| **load_directory**\ (\ directory\: ``String``\ ) :ref:`🔗<class_Terrain3DData_method_load_directory>`

Loads all of the Terrain3DRegion files found in the specified directory. Then it rebuilds all map arrays.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_load_region:

.. rst-class:: classref-method

|void| **load_region**\ (\ directory\: ``Vector2i``, region_location\: ``String``, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_load_region>`

Loads the specified region location file.

- update - rebuild maps if true.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_remove_region:

.. rst-class:: classref-method

|void| **remove_region**\ (\ region\: :ref:`Terrain3DRegion<class_Terrain3DRegion>`, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_remove_region>`

Marks the specified region as deleted. This deactivates it so it won't render it on screen once maps are updated, unless marked not deleted. The file will be deleted from disk upon saving.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_remove_regionl:

.. rst-class:: classref-method

|void| **remove_regionl**\ (\ region_location\: ``Vector2i``, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_remove_regionl>`

Removes the region at the specified location. See :ref:`remove_region<class_Terrain3DData_method_remove_region>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_remove_regionp:

.. rst-class:: classref-method

|void| **remove_regionp**\ (\ global_position\: ``Vector3``, update\: ``bool`` = true\ ) :ref:`🔗<class_Terrain3DData_method_remove_regionp>`

Removes the region at the specified global_position. See :ref:`remove_region<class_Terrain3DData_method_remove_region>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_save_directory:

.. rst-class:: classref-method

|void| **save_directory**\ (\ directory\: ``String``\ ) :ref:`🔗<class_Terrain3DData_method_save_directory>`

This saves all active regions into the specified directory.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_save_region:

.. rst-class:: classref-method

|void| **save_region**\ (\ directory\: ``Vector2i``, region_location\: ``String``, 16_bit\: ``bool`` = false\ ) :ref:`🔗<class_Terrain3DData_method_save_region>`

Saves the specified active region to the directory. See :ref:`Terrain3DRegion.save<class_Terrain3DRegion_method_save>`.

- region_location - the region to save.

- 16_bit - converts the edited 32-bit heightmap to 16-bit. This is a lossy operation.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_color:

.. rst-class:: classref-method

|void| **set_color**\ (\ global_position\: ``Vector3``, color\: ``Color``\ ) :ref:`🔗<class_Terrain3DData_method_set_color>`

Sets the color on the color map pixel associated with the specified position. See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control:

.. rst-class:: classref-method

|void| **set_control**\ (\ global_position\: ``Vector3``, control\: ``int``\ ) :ref:`🔗<class_Terrain3DData_method_set_control>`

Sets the value on the control map pixel associated with the specified position. See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_angle:

.. rst-class:: classref-method

|void| **set_control_angle**\ (\ global_position\: ``Vector3``, degrees\: ``float``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_angle>`

Sets the angle, aka uv rotation, on the control map at the requested position. Values are rounded to the nearest 22.5 degree interval, for a maximum of 16 angles. 360 / 16 = 22.5.

See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_auto:

.. rst-class:: classref-method

|void| **set_control_auto**\ (\ global_position\: ``Vector3``, enable\: ``bool``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_auto>`

Sets if the material should render the autoshader or manual texturing on the control map at the requested position.

See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_base_id:

.. rst-class:: classref-method

|void| **set_control_base_id**\ (\ global_position\: ``Vector3``, texture_id\: ``int``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_base_id>`

Sets the base texture ID on the control map at the requested position. Values are clamped to 0 - 31, matching the ID of the texture asset in the asset dock.

See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_blend:

.. rst-class:: classref-method

|void| **set_control_blend**\ (\ global_position\: ``Vector3``, blend_value\: ``float``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_blend>`

Sets the blend value between the base texture ID, and the overlay texture ID. The value is clamped between 0.0 - 1.0 where 0.0 shows only the base texture, and 1.0 shows only the overlay texture.

See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_hole:

.. rst-class:: classref-method

|void| **set_control_hole**\ (\ global_position\: ``Vector3``, enable\: ``bool``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_hole>`

Sets if a hole should be rendered on the control map at the requested position. See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_navigation:

.. rst-class:: classref-method

|void| **set_control_navigation**\ (\ global_position\: ``Vector3``, enable\: ``bool``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_navigation>`

Sets if navigation generation is enabled on the control map at the requested position. See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_overlay_id:

.. rst-class:: classref-method

|void| **set_control_overlay_id**\ (\ global_position\: ``Vector3``, texture_id\: ``int``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_overlay_id>`

Sets the overlay texture ID on the control map at the requested position. Values are clamped to 0 - 31, matching the ID of the texture asset in the asset dock.

See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_control_scale:

.. rst-class:: classref-method

|void| **set_control_scale**\ (\ global_position\: ``Vector3``, percentage_modifier\: ``float``\ ) :ref:`🔗<class_Terrain3DData_method_set_control_scale>`

Sets the uv scale on the control map at the requested position. The value is rounded to the nearest 20% difference from 100%, ranging between -60% to +80%.

See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_height:

.. rst-class:: classref-method

|void| **set_height**\ (\ global_position\: ``Vector3``, height\: ``float``\ ) :ref:`🔗<class_Terrain3DData_method_set_height>`

Sets the height value on the heightmap pixel associated with the specified position. See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

Unlike :ref:`get_height<class_Terrain3DData_method_get_height>`, which interpolates between vertices, this function does not and will set the pixel at floored coordinates.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_pixel:

.. rst-class:: classref-method

|void| **set_pixel**\ (\ map_type\: :ref:`MapType<enum_Terrain3DRegion_MapType>`, global_position\: ``Vector3``, pixel\: ``Color``\ ) :ref:`🔗<class_Terrain3DData_method_set_pixel>`

Sets the pixel for the map type associated with the specified position. This method is fine for setting a few pixels, but if you wish to modify thousands of pixels quickly, you should get the region and use :ref:`Terrain3DRegion.get_map<class_Terrain3DRegion_method_get_map>`, then edit the images directly.

After setting pixels you need to call :ref:`force_update_maps<class_Terrain3DData_method_force_update_maps>`. You may also need to regenerate collision if you don't have dynamic collision enabled.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_region_deleted:

.. rst-class:: classref-method

|void| **set_region_deleted**\ (\ region_location\: ``Vector2i``, deleted\: ``bool``\ ) :ref:`🔗<class_Terrain3DData_method_set_region_deleted>`

Marks a region as deleted. It will stop displaying when maps are updated. The file will be removed on save.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_region_modified:

.. rst-class:: classref-method

|void| **set_region_modified**\ (\ region_location\: ``Vector2i``, modified\: ``bool``\ ) :ref:`🔗<class_Terrain3DData_method_set_region_modified>`

Sets the region as modified. It will be written to disk when saved. Syntactic sugar for :ref:`Terrain3DRegion.modified<class_Terrain3DRegion_property_modified>`.

.. rst-class:: classref-item-separator

----

.. _class_Terrain3DData_method_set_roughness:

.. rst-class:: classref-method

|void| **set_roughness**\ (\ global_position\: ``Vector3``, roughness\: ``float``\ ) :ref:`🔗<class_Terrain3DData_method_set_roughness>`

Sets the roughness modifier (wetness) on the color map alpha channel associated with the specified position. See :ref:`set_pixel<class_Terrain3DData_method_set_pixel>` for important information.

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
.. |constructor| replace:: :abbr:`constructor (This method is used to construct a type.)`
.. |static| replace:: :abbr:`static (This method doesn't need an instance to be called, so it can be called directly using the class name.)`
.. |operator| replace:: :abbr:`operator (This method describes a valid operator to use with this type as left-hand operand.)`
.. |bitfield| replace:: :abbr:`BitField (This value is an integer composed as a bitmask of the following flags.)`
.. |void| replace:: :abbr:`void (No return value.)`
